<!DOCTYPE html>

<html>

    <head>

        <title>How quick are you?</title>
        
        <link rel="stylesheet" type="text/css" href="javascript.css">
        <link href="https://fonts.googleapis.com/css?family=Tajawal" rel="stylesheet">

    </head>

    <body>
        
        <div id="text-box">

            <h1>How quick are you?</h1>

            <p>See how fast you react! Click on the shape as quickly as you can.</p>

            <p>Your time: <span id="timer">&infin;</span>s | Your best time is: <span id="bestTime">&infin;</span>s</p>

            <p id="wait"></p>
            
        </div>
        
        <div id="shape-box">
            <div id="shape"></div>
        </div>

    </body>
    
    <script>
        
        var startTime = new Date();
        
        var endTime = new Date();
        
        generateShapeStyle();
        
        var bestTime = Number.MAX_SAFE_INTEGER;
        
        document.getElementById("shape").onclick = function () {
            
            reportTime();
            
            hideShape();
            
            generateShapeStyle();
                        
            setTimeout(showShape, Math.random() * 2000);
            
        }
        
        function reportTime () {
            
            endTime = new Date();
            
            var diffTime = (endTime - startTime) / 1000;
            
            document.getElementById("timer").innerHTML = diffTime;
            
            if (diffTime < bestTime) {
                
                bestTime = diffTime;
            
            }
            
            document.getElementById("bestTime").innerHTML = bestTime;            
            
        }
        
        function hideShape () {
            
            document.getElementById("shape").style.display = "none";
            
        }
        
        function showShape () {
            
            document.getElementById("shape").style.display = "block";
            
            startTime = new Date();
            
        }
        
        function generateShapeStyle () {
            
            var size = (Math.random() * 200) + 50;
            
            var left = (Math.random() * 90);
            
            var top = (Math.random() * 90);
            
            document.getElementById("shape").style.width = size + "px";
            
            document.getElementById("shape").style.height = size + "px";
            
            document.getElementById("shape").style.backgroundColor = "blue";
            
            document.getElementById("shape").style.left = left + "%";
            
            document.getElementById("shape").style.top = top + "%";
            
            document.getElementById("shape").style.backgroundColor = getRandomColor();
            
            document.getElementById("shape").style.borderRadius = circleOrSquare() + "%";
            
        }

        function getRandomColor () {
            
            var letters = '0123456789ABCDEF';
            
            var color = '#';
            
            for (var i = 0; i < 6; i++) {
            
                color += letters[Math.floor(Math.random() * 16)];
                
            }
            
            return color;
        }
        
        function circleOrSquare () {
            
            var zeroOrOne = Math.floor(Math.random() * 2);
            
            if(zeroOrOne == 0){
                return 50;
            } else {
                return 0;
            }
            
        }
        
    </script>

</html>